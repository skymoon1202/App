# App development 

모바일 앱은 차량에 설치된 라즈베리파이 및 서버와 데이터를 주고받으며 운전자에게 다양한 정보를 제공합니다. 앱의 기능은 크게 두 가지입니다. 첫 번째 기능은 라즈베리파이로부터 운전자의 적발 당시 사진을 전송받는 것이고, 두 번째 기능은 서버와의 데이터 송수신을 통해 운전자에게 정보를 제공하는 것입니다.

<img width="241" alt="image" src="https://github.com/TheHaengwoon/App/assets/129641923/a9f2354b-fab6-4bf4-93be-14bbea2543f5">, <img width="251" alt="image" src="https://github.com/TheHaengwoon/App/assets/129641923/47a8b6f1-6b74-40f7-840c-338ca732cac6">, <img width="245" alt="image" src="https://github.com/TheHaengwoon/App/assets/129641923/eb75bca3-31bb-42cf-afad-fe18b8ed18d0">



첫째, 앱에서는 카메라 모듈에서 적발 당시 생성된 사진을 라즈베리파이로부터 전송받습니다. 차량에 시동이 걸림과 동시에, USB동글이 삽입된 라즈베리파이는 AP(Access Point)모드로 작동하여 로컬 네트워크를 구축하며, 여기에 연결된 장치들이 인터넷에 접속할 수 있도록 합니다(이렇게 하면 폰에서도 와이파이에 연결만 해도 서버 접속 가능). 운전자는 차량에 탑승하여 시동을 걸고 라즈베리파이가 켜지면 스마트폰에서 라즈베리파이의 와이파이에 접속함으로써 라즈베리파이와 스마트폰을 연동합니다. 운전자는 운전을 시작하기 직전에 모바일 앱에 로그인한 후, ‘운전 시작’ 버튼을 누르면 앱은 소켓을 열고 사진을 받을 준비를 합니다. 이때, 운전자가 적발되면 카메라는 운전자의 사진을 찍고, 라즈베리파이는 AP모드로 연동된 스마트폰으로 소켓 통신을 통해 그 사진을 전송합니다. 앱에서는 전송받은 사진을 ‘그때의 시각+회원 이메일’을 제목으로 저장하고 바로 서버로 전송하게 됩니다.

둘째, 앱에서는 서버에서 해당 사용자의 데이터를 가져와서 사용자가 본인의 운전 기록을 조회할 수 있습니다. 사용자는 앱에 로그인한 후, 메인화면에서 본인의 운전 점수를 확인할 수 있습니다. 운전 점수는 사용자의 누적 데이터를 기반으로 다음과 같은 식을 통해 산출됩니다. 이 식의 특징은 최근의 기록일수록 가중치가 크다는 것입니다. 최근의 기록이 좋을수록 운전자의 운전 습관 개선 의지를 더욱 높일 수 있기 때문입니다.(자세하게 설명하자면, 운전 점수가 많이 안 좋았다면, 지금부터 열심히 하면 금방 올릴 수 있고, 운전 점수가 계속 좋았다면, 계속 열심히 하면됨.) 또한, 사용자는 ‘기록 조회’버튼을 눌러 본인의 누적 데이터를 확인할 수 있습니다. 여기서는 각 기록들의 해당 시각, 당시의 사진을 확인할 수 있습니다. 

<img width="834" alt="Screen Shot 2023-11-08 at 6 22 44 PM" src="https://github.com/TheHaengwoon/App/assets/129641923/155a9d5f-2379-480d-84ba-2fd936bdadc1">

결론적으로 앱은 운전자의 운전 기록을 수집 및 저장하고 운전 점수를 산출함으로써 운전자의 습관을 점수로 변환합니다. 이 시스템의 타겟은 초보 렌터카 운전자나 장시간 화물차 운전자이므로, 렌터카 회사나 화물업체에서 운전 점수를 이용하여 운전자들에게 혜택이나 불이익을 적용할 수 있습니다. 운전자들이 운전 점수를 높이려고 한다면 운전 습관은 장기적으로 개선이 될 것이고, 회사 측면에서도 사고가 감소할수록 인적 및 재산 피해를 막을 수 있기 때문에 여러모로 장점이 있습니다. 


